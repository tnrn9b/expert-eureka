<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Expert-eureka : installing zend framework 2 with apache2.4 on ubunut 16.04">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Expert-eureka</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/tnrn9b/expert-eureka">View on GitHub</a>

          <h1 id="project_title">Expert-eureka</h1>
          <h2 id="project_tagline">installing zend framework 2 with apache2.4 on ubunut 16.04</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/tnrn9b/expert-eureka/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/tnrn9b/expert-eureka/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="installing-zend-framework-2-on-ubuntu-1604-using-apache24" class="anchor" href="#installing-zend-framework-2-on-ubuntu-1604-using-apache24" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installing Zend Framework 2 on Ubuntu 16.04 using Apache2.4</h1>

<h2>
<a id="background-php-apache2-modules" class="anchor" href="#background-php-apache2-modules" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Background: PHP Apache2 Modules</h2>

<p>Make sure you known which version of php you have installed, and that the necessary apache modules are enabled.
To check your php version enter <code>php -v</code> at the command-line. The output should resimble this:</p>

<div class="highlight highlight-source-shell"><pre>   you@yourmachine:/$  php -v
   PHP 7.0.6-12+donate.sury.org~xenial+4 (cli) ( NTS )
   Copyright (c) 1997-2016 The PHP Group
   Zend Engine v3.0.0, Copyright (c) 1998-2016 Zend Technologies
    with Zend OPcache v7.0.6-dev, Copyright (c) 1999-2016, by Zend Technologies
    with Xdebug v2.4.0, Copyright (c) 2002-2016, by Derick Rethans</pre></div>

<p>You don't need to have php7.0 installed. What's important is that php is installed and up to date with the base
requirements issued in the Zend Framework 2 documentation.</p>

<p>In order for php to work with apache you need make sure that you have <code>libapache2-mod-php</code> installed. Assuming that
it is installed, check to make sure that the mods are enabled. To do this, enter <code>cd /etc/apache2/mods-available</code> and
enter <code>ls -l | grep php</code>. If the mods are available, the output should look like this:</p>

<div class="highlight highlight-source-shell"><pre>   you@yourmachine:/$ <span class="pl-c1">cd</span> /etc/apache2/mods-available
   you@yourmachine:/etc/apache2/mods-available$ ls -l <span class="pl-k">|</span> grep php
   -rw-r--r-- 1 root root  867 May 13 05:03 php7.0.conf
   -rw-r--r-- 1 root root   79 May 13 05:03 php7.0.load</pre></div>

<p>Endable the module by entering <code>sudo a2enmod php7.0</code> (you need to type the appropriate number for your version) and
restart apache by entering <code>sudo service apache2 restart</code>.</p>

<h2>
<a id="apache-setup" class="anchor" href="#apache-setup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Apache setup</h2>

<p>For Apache &gt;= 2.4 on recent releases of Ubuntu (16.04 in particular), there are essentially six steps to setting up a virtual host:</p>

<ol>
<li>Create a .conf file <code>/etc/apache2/sites-available/zf2.project.conf</code>.</li>
<li>Edit the <code>ServerName</code> and <code>DocumentRoot</code> in your newly created <code>zf2.project.conf</code>
</li>
<li>Edit the <code>&lt;Directory /var/www/&gt;</code> directive in /etc/apache2/apache.conf from <code>AllowOverride None</code> to <code>AllowOverride All</code>.</li>
<li>Enable the Rewrite module <code>sudo a2enmod rewrite</code> and <code>sudo service apache2 restart</code>.</li>
<li>Edit the file /etc/hosts to include your the address <code>127.0.0.1</code> and your<code>ServerName</code>.</li>
<li>Enable the virtual host configuration <code>sudo a2ensite zf2.project.conf</code> and <code>sudo service apache2 restart</code>.</li>
</ol>

<h3>
<a id="create-a-conf-file-etcapache2sites-availablezf2projectconf" class="anchor" href="#create-a-conf-file-etcapache2sites-availablezf2projectconf" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Create a .conf file <code>/etc/apache2/sites-available/zf2.project.conf</code>.</h3>

<p>Here's the easiest way to do this:</p>

<ol>
<li>Ctrl + Alt + t (to open up a terminal)</li>
<li>sudo cp /etc/apache2/sites-available/000-default.conf /etc/apache2/sites-available/zf2.project.conf</li>
</ol>

<h3>
<a id="edit-the-servername-and-documentroot-in-your-newly-created-zf2projectconf" class="anchor" href="#edit-the-servername-and-documentroot-in-your-newly-created-zf2projectconf" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Edit the <code>ServerName</code> and <code>DocumentRoot</code> in your newly created <code>zf2.project.conf</code>
</h3>

<p>Here's the easiest way to do this (using nano as an editor):
    1. sudo nano /etc/apache2/sites-available/zf2.project.conf
    2. make the changes to the lines described above, removing the '#' from
       in front of the <code>ServerName</code>.
       It should look something like this:</p>

<div class="highlight highlight-source-apache-config"><pre>&lt;<span class="pl-ent">VirtualHost</span> *:80&gt;
        <span class="pl-c"># The ServerName directive sets the request scheme, hostname and port that</span>
        <span class="pl-c"># the server uses to identify itself. This is used when creating</span>
        <span class="pl-c"># redirection URLs. In the context of virtual hosts, the ServerName</span>
        <span class="pl-c"># specifies what hostname must appear in the request's Host: header to</span>
        <span class="pl-c"># match this virtual host. For the default virtual host (this file) this</span>
        <span class="pl-c"># value is not decisive as it is used as a last resort host regardless.</span>
        <span class="pl-c"># However, you must set it for any further virtual host explicitly.</span>
        <span class="pl-c1">ServerName</span> zf2.project.localhost
        <span class="pl-c1">ServerAdmin</span> webmaster@localhost
        <span class="pl-c1">DocumentRoot</span> /var/www/{NAME_OF_YOUR_ZEND_PROJECT_DIR}/public

        <span class="pl-c"># Available loglevels: trace8, ..., trace1, debug, info, notice, warn,</span>
        <span class="pl-c"># error, crit, alert, emerg.</span>
        <span class="pl-c"># It is also possible to configure the loglevel for particular</span>
        <span class="pl-c"># modules, e.g.</span>
        <span class="pl-c">#LogLevel info ssl:warn</span>

        <span class="pl-c1">ErrorLog</span> ${APACHE_LOG_DIR}/error.log
        <span class="pl-c1">CustomLog</span> ${APACHE_LOG_DIR}/access.log combined

        <span class="pl-c"># For most configuration files from conf-available/, which are</span>
        <span class="pl-c"># enabled or disabled at a global level, it is possible to</span>
        <span class="pl-c"># include a line for only one particular virtual host. For example the</span>
        <span class="pl-c"># following line enables the CGI configuration for this host only</span>
        <span class="pl-c"># after it has been globally disabled with "a2disconf".</span>
        <span class="pl-c"># Include conf-available/serve-cgi-bin.conf</span>
&lt;/<span class="pl-ent">VirtualHost</span>&gt;

<span class="pl-c"># vim: syntax=apache ts=4 sw=4 sts=4 sr noet</span></pre></div>

<h3>
<a id="edit-the-directory-varwww-directive-in-etcapache2apacheconf-from-allowoverride-none-to-allowoverride-all" class="anchor" href="#edit-the-directory-varwww-directive-in-etcapache2apacheconf-from-allowoverride-none-to-allowoverride-all" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Edit the <code>&lt;Directory /var/www/&gt;</code> directive in /etc/apache2/apache.conf from <code>AllowOverride None</code> to <code>AllowOverride All</code>.</h3>

<p>Here's the easiest way to do this:</p>

<ol>
<li>sudo nano /etc/apache2/apache2.conf</li>
<li>page down until you see <code>&lt;Directory /var/www/&gt;</code>
</li>
<li>Edit the block so that it looks like this:
<code>apache
&lt;Directory /var/www/&gt;
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
&lt;/Directory&gt;
</code>
</li>
</ol>

<h3>
<a id="enable-the-rewrite-module" class="anchor" href="#enable-the-rewrite-module" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enable the Rewrite module.</h3>

<pre><code>Do this by entering `sudo a2enmod rewrite` and `sudo service apache2 restart`.
</code></pre>

<h3>
<a id="edit-the-file-etchosts-to-include-your-the-address-127001-and-yourservername" class="anchor" href="#edit-the-file-etchosts-to-include-your-the-address-127001-and-yourservername" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Edit the file /etc/hosts to include your the address <code>127.0.0.1</code> and your<code>ServerName</code>.</h3>

<p>Here's the easiest way to do this:</p>

<ol>
<li>sudo nano /etc/hosts</li>
<li>
<p>Add <code>127.0.0.1       zf2.project.localhost</code> to the top of the file
  It should look like this:</p>

<div class="highlight highlight-source-apache-config"><pre>  127.0.0.1       zf2.project.localhost <span class="pl-c"># This goes at the top of the list</span>
...
  <span class="pl-c"># The following lines are desirable for IPv6 capable hosts</span></pre></div>
</li>
</ol>

<h3>
<a id="enable-the-virtual-host-configuration" class="anchor" href="#enable-the-virtual-host-configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enable the virtual host configuration</h3>

<pre><code>Do this by entering `sudo a2ensite zf2.project.conf` and `sudo service apache2 restart`.
</code></pre>

<h2>
<a id="test-by-navigating-to-zf2projectlocalhost-in-your-browser" class="anchor" href="#test-by-navigating-to-zf2projectlocalhost-in-your-browser" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Test by navigating to zf2.project.localhost in your browser.</h2>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Expert-eureka maintained by <a href="https://github.com/tnrn9b">tnrn9b</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
